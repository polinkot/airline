# Airline

Проект для автоматизации работы авиакомпании.

## Начало работы

Для сборки проекта запустите скрипт buildImage.sh (в корне проекта).
Собирается докер-образ 342011919275.dkr.ecr.us-east-2.amazonaws.com/airline:latest.
Запустите докер-образ локально. Команда docker run -p 8080:8080 342011919275.dkr.ecr.us-east-2.amazonaws.com/airline:latest.

### Проверка запуска приложения

    http://localhost:8080
    
Если всё успешно собралось, приложение выводит строку "Hello, world!".    

## Deployment

Используется модель ветвления GitHub Flow. 
При коммите изменений в главную ветку (main) GitHub-репозитория CI-сервер GitHub Actions запускает сборку проекта, 
проверки кода и сборку докер-образа с номером коммита в качестве тэга.
Докер-образ помещается в репозиторий Amazon Elastic Container Registry (ECR).
Название репозитория 342011919275.dkr.ecr.us-east-2.amazonaws.com/airline.

Production стенд размещается на Amazon Elastic Container Service Fargate (ECS).
При появлении нового докер-образа в репозитории ECR создаётся новый инстанс приложения в ECS.
Ему назначается динамический IP. Посмотреть новый IP можно в списке задач кластера ECS.
Кластер arn:aws:ecs:us-east-2:342011919275:cluster/airlineCluster.

### Проверка запуска приложения на production стенде

    http://<latest ECS IP>:8080
    
Если всё успешно собралось, приложение выводит строку "Hello, world!".    

## Проверки кода
detekt
Проект не должен содержать warning'ов.

Покрытие тестов должно быть не меньше 80%
Любой билд на главной ветке не должен содержать RC или SNAPSHOT-зависимости.

Билд падает если условия проверок не выполнены.

# Вопросы к преподавателям!!!
пункт 4
пункт 7
